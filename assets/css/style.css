:root{ --accent:#0a7; --bg:#f7faf9; --card:#fff; --ink:#111; --muted:#667; }
*{ box-sizing:border-box }
html,body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP","Yu Gothic",Meiryo,sans-serif; color:var(--ink); background:var(--bg) }
.site{ max-width:1000px; margin:0 auto; padding:16px }
.site h1{ margin:.2rem 0 }
.sub{ color:#555 }
.grid{ max-width:1000px; margin:0 auto; padding:16px; display:grid; gap:16px; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); }
.card{ display:block; background:var(--card); padding:16px; border:1px solid #e5e7eb; border-radius:14px; text-decoration:none; color:var(--ink); box-shadow:0 6px 14px rgba(0,0,0,.04); transition:.15s }
.card:hover{ transform:translateY(-2px); box-shadow:0 8px 18px rgba(0,0,0,.08) }
/* module layout */
.page{ display:grid; grid-template-columns: 1fr min(42ch,44vw); grid-auto-rows: 1fr; height:100vh; }
aside{ background:#fff; border-left:1px solid #e5e7eb; display:flex; flex-direction:column; min-height:0 }
.panel{ padding:10px 12px; border-bottom:1px solid #eef2f7; color:var(--muted) }
.answers{ padding:0 12px 20px; overflow:auto; }
.ans{ display:grid; grid-template-columns:3.25ch 1fr auto; align-items:center; gap:8px; padding:8px 0; border-bottom:1px dashed #eef2f7 }
.num{ width:2.1em; height:2.1em; display:grid; place-items:center; background:var(--accent); color:#fff; border-radius:999px; font-weight:700 }
.word{ filter: blur(8px); transition:.12s }
.word.revealed{ filter:none }
.ans.active{ background:#f6fffb }
.btn{ border:1px solid #d1d5db; background:#fff; border-radius:8px; padding:6px 10px; cursor:pointer }
.toolbar{ padding:8px 12px; display:flex; gap:8px; align-items:center; border-bottom:1px solid #eef2f7; background:#fff }
.leaflet-div-icon{ background:transparent; border:none }
.pin{ background:var(--accent); color:#fff; border-radius:999px; width:26px; height:26px; display:grid; place-items:center; font-weight:700; box-shadow:0 2px 6px rgba(0,0,0,.25); border:2px solid #fff }
/* tabs */
.tabs{ display:flex; gap:6px; padding:8px 12px; border-bottom:1px solid #eee; background:#fff }
.tab{ padding:6px 10px; border:1px solid #ddd; border-bottom:none; border-radius:8px 8px 0 0; background:#fafafa; cursor:pointer }
.tab.active{ background:#fff; font-weight:600 }
.pane{ display:none }
.pane.active{ display:grid }
@media(max-width:880px){ .page{ grid-template-columns:1fr; grid-auto-rows: 50vh 50vh } aside{ border-left:none; border-top:1px solid #e5e7eb } }

.badge {
  display:inline-block; padding:.15em .5em; border-radius:9999px;
  font-size:.75em; line-height:1; margin-left:.5em; border:1px solid #dfe3ea; color:#556;
}
.badge.wrong { background:#ffe8ea; color:#b30021; border-color:#ffd1d6; }
.badge.ok { background:#e9fbf0; color:#147d3a; border-color:#c8f1d9; }
.markbtn { border:1px solid #d1d5db; background:#fff; border-radius:6px; padding:3px 8px; cursor:pointer; font-size:.85em }
.markbtn + .markbtn { margin-left:6px; }
.toolbar .stats { margin-left:auto; color:#667 }
