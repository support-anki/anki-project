<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex,nofollow" />
  <title>åœ°ç†æ•™æ ä¸€è¦§</title>
  <link rel="icon" href="/anki-project/assets/img/favicon.png" type="image/png">
  <link rel="stylesheet" href="../../assets/css/style.css" />
</head>
<a class="home-btn" href="/anki-project/" aria-label="ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸">ğŸ  ãƒˆãƒƒãƒ—</a>
<body>
<header class="site"><h1>ğŸŒ åœ°ç†æ•™æ ä¸€è¦§</h1></header>
<main class="grid" id="list"></main>

<script>
(async () => {
  // âœ… location.hrefã‚’åŸºæº–ã«ç›¸å¯¾ãƒ‘ã‚¹ã§manifestã‚’å–å¾—
  const manifestUrl = new URL('../../assets/data/geo/manifest.json', location.href);
  const list = document.getElementById('list');

  try {
    const res = await fetch(manifestUrl, { cache: 'no-store' });
    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    const data = await res.json();

    if (!data.modules?.length) {
      list.innerHTML = '<div class="card">manifest.json ã« modules ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</div>';
      return;
    }

    data.modules.forEach(m => {
      const a = document.createElement('a');
      a.className = 'card';
      a.href = m.path;
      a.innerHTML = `<h2>${m.title}</h2><p>ã‚¿ãƒƒãƒ—ã§è¡¨ç¤ºï¼å¾©ç¿’æ©Ÿèƒ½ã‚ã‚Š</p>`;
      list.appendChild(a);
    });
  } catch (e) {
    list.innerHTML = `<div class="card">manifest.json ã‚’èª­ã‚ã¾ã›ã‚“ã§ã—ãŸï¼š<br><code>${manifestUrl}</code><br><small>${String(e)}</small></div>`;
  }
})();
</script>
</body>
</html>




